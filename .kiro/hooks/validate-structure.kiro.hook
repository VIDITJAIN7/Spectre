{
  "enabled": true,
  "name": "Validate Structure",
  "description": "Validates that all placeholders have been replaced, required files exist, content is complete, and the skeleton is ready for scaffolding. Scans for unreplaced placeholders, checks file structure, validates markdown syntax, and generates a comprehensive validation report.",
  "version": "1",
  "when": {
    "type": "manual"
  },
  "then": {
    "type": "askAgent",
    "prompt": "Perform a comprehensive validation of the agentic full-stack skeleton structure:\n\n1. **Scan for Unreplaced Placeholders**: Read all template and steering files. Search for any remaining `<PLACEHOLDER_NAME>` patterns. Create a list of unreplaced placeholders with their locations, categorized by file and section.\n\n2. **Validate Placeholder Syntax**: Check that all placeholders follow `<SCREAMING_SNAKE_CASE>` format. Identify any malformed placeholder markers and report inconsistent placeholder naming.\n\n3. **Check File Structure**: Verify all required files exist:\n   - Template files: requirements.md, design.md, tasks.md\n   - Steering files: product.md, structure.md, tech.md\n   - Agent hooks: scaffold-app.md, validate-structure.md, generate-boilerplate.md\n\n4. **Validate Content Completeness**: \n   - Check that requirements.md has user stories and acceptance criteria\n   - Verify design.md has all required sections (Architecture, Frontend, Backend, Data Layer, Extension Points)\n   - Confirm tasks.md has actionable implementation steps\n   - Ensure steering files have meaningful content (not just placeholders)\n\n5. **Check Cross-References**: Verify task items reference specific requirements, check that design addresses all requirements, and confirm steering files align with design decisions.\n\n6. **Validate Markdown Syntax**: Check for proper markdown formatting, verify code blocks are properly closed, ensure heading hierarchy is correct, and validate list formatting.\n\nGenerate a validation report with:\n- ✓/✗ status for each validation category\n- Count of unreplaced placeholders with file locations and line numbers\n- List of missing files (if any)\n- Content completeness assessment\n- Markdown syntax issues\n- Overall status: READY FOR SCAFFOLDING or NOT READY\n- Specific actionable recommendations for fixing any issues found\n- Next steps based on validation results\n\nFormat the output clearly with sections for each validation category and provide severity levels (critical, warning, info) for issues found."
  }
}